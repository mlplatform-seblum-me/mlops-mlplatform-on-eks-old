datasources:
  datasources.yaml:
    apiVersion: 1
    datasources:
    - name: Prometheus
      type: prometheus
      url: http://prometheus-server.monitoring.svc.cluster.local
      access: proxy
      isDefault: true
service:
  enabled: true
  type: ClusterIP
ingress:
  enabled: true
  annotations: {
    external-dns.alpha.kubernetes.io/hostname : "mlplatform.seblum.me",
    alb.ingress.kubernetes.io/scheme : "internet-facing",
    alb.ingress.kubernetes.io/target-type : "ip",
    kubernetes.io/ingress.class : "alb",
    alb.ingress.kubernetes.io/group.name : "mlplatform",
    alb.ingress.kubernetes.io/healthcheck-path : "/api/health"
  }
  labels: {}
  path: /grafana
  pathType: Prefix
  hosts:
    - mlplatform.seblum.me
    - www.mlplatform.seblum.me

# admin:
#   ## Name of the secret. Can be templated.
#   existingSecret: ""
#   userKey: admin-user
#   passwordKey: admin-password
dashboardProviders:
  dashboardproviders.yaml:
    apiVersion: 1
    providers:
    - name: 'default'
      orgId: 1
      folder: ''
      type: file
      disableDeletion: false
      editable: true
      options:
        path: /var/lib/grafana/dashboards/default

dashboards:
  default:
    prometheus-stats:
      gnetId: 2
      revision: 2
      datasource: Prometheus
    prometheus-stats-2:
      gnetId: 315
      datasource: Prometheus
    k8s-cluster:
      gnetId: 6417
      datasource: Prometheus
grafana.ini:
  server:
    domain: mlplatform.seblum.me
    root_url: "%(protocol)s://%(domain)s/grafana/"
    serve_from_sub_path: true
  # https://grafana.com/docs/grafana/latest/auth/github/#enable-github-in-grafana
  auth.github:
    enabled: true
    allow_sign_up: true
    scopes: user:email,read:org
    auth_url: https://github.com/login/oauth/authorize
    token_url: https://github.com/login/oauth/access_token
    api_url: https://api.github.com/user
    # team_ids: grafana-user-team
    # allowed_organizations:
    client_id: 
    client_secret: 

